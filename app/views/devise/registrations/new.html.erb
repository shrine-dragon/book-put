<%= render "shared/second_header"%>

<%= form_with model: @user, url: user_registration_path, class: 'registration-main', local: true do |f| %>
  <div class='form-wrap-sign-up'>
    <div class='form-header'>
      <h1 class='form-header-text'>
        新規登録
      </h1>
      <div class='step-contents'>
        <div class='left-circle'></div>
        <hr class='horizontal-line'>
        <div class='center-circle'></div>
        <hr class='horizontal-line'>
        <div class='right-circle'></div>
      </div>
      <div class ='step-text'>
        <div class='step-text-left'>お客様情報入力</div>
        <div class='step-text-center'>アンケート情報入力</div>
        <div class='step-text-right'>登録完了</div>
      </div>
    </div>

    <div class="form-all">
      <%= render 'shared/error_messages', model: f.object %>
      <div class="form-group">
        <div class='form-text-wrap'>
          <label class="form-text">ニックネーム</label>
          <span class="indispensable">必須</span>
        </div>
        <%= f.text_area :nickname, class:"input-default", id:"nickname", placeholder:"例) book好男", maxlength:"40" %>
      </div>
      <div class="form-group">
        <div class='form-text-wrap'>
          <label class="form-text">性別</label>
          <span class="indispensable">必須</span>
        </div>
        <%= f.collection_select(:gender_id, Gender.all, :id, :name, {}, {class:"select-box", id:"user-gender"}) %>
      </div>
      <div class="form-group">
        <div class='form-text-wrap'>
          <label class="form-text">生年月日</label>
          <span class="indispensable">必須</span>
        </div>
        <div class='input-birth-wrap'>
          <%= raw sprintf(
                      f.date_select(
                        :birth_day,
                        class:'select-birth',
                        id:"birth-date",
                        use_month_numbers: true,
                        prompt:'--',
                        start_year: 1930,
                        end_year: (Time.now.year - 5),
                        date_separator: '%s'),
                      "<p> 年 </p>", "<p> 月 </p>") + "<p> 日 </p>" %>
        </div>
      </div>
      <div class="form-group">
        <div class='form-text-wrap'>
          <label class="form-text">メールアドレス</label>
          <span class="indispensable">必須</span>
        </div>
        <%= f.email_field :email, class:"input-default", id:"email", placeholder:"あなたのメールアドレス", autofocus: true %>
        <p class='info-text'>※ 本人情報は正しく入力してください。</p>
              <p class='info-text'>※修正するにはお時間を頂く場合があります。</p>
      </div>
      <div class="form-group">
        <div class='form-text-wrap'>
          <label class="form-text">パスワード</label>
          <span class="indispensable">必須</span>
        </div>
        <%= f.password_field :password, class:"input-default", id:"password", placeholder:"半角英数12文字以上20文字以内", minlength:"12", maxlength:"20" %>
        <p class='info-text'>※パスワードの長さは<br>半角英数12文字以上20以内です。</p>
      </div>
      <div class="form-group">
        <div class='form-text-wrap'>
          <label class="form-text">確認用パスワード</label>
          <span class="indispensable">必須</span>
        </div>
        <%= f.password_field :password_confirmation, class:"input-default", id:"password-confirmation", placeholder:"同じパスワードをご入力下さい" %>
        <p class='info-text'>※個人情報から推定しやすいものは<br>お控え下さい。</p>
        <p class='info-text'>※第三者に悪用される恐れがあります。</p>
      </div>
      <div class="form-group">
        <p class='form-info-header'>
          本人確認
        </p>
        <p class='form-info-text'>
          本人情報は正しくご入力下さい。<br>お客様の情報は他のお客さまに公開されることはありません。
        </p>
        <p>
          <%= link_to '本人情報の登録について', '#', class:'register-info', id:'link' %>
        </p>
      </div>
      <div class="form-group">
        <h2 class='form-bottom-text'>
          「会員登録」のボタンを押すことにより、<br>
          <span><%= link_to '利用規約', "#", id:'link' %></span>および<span><%= link_to 'プライバシーポリシー', "#", id:'link' %></span>に
          <br>同意したものとみなします。
        </h2>
      </div>
      <div class='register-btn'>
        <%= f.submit "登録する" ,class:"register-blue-btn", id:"blue-btn" %>
        <p class='already-register'>登録済みの方は<span><%= link_to 'こちら',  new_user_session_path, id:'link' %></span></p>        
      </div>
    </div>
    <div class='go-back-btn'>
      <%= link_to(root_path, class:'go-back-gray-btn', id:"gray-btn") do %>
        <span class="go-back-btn-text">もどる</span>
      <% end %>
    </div>
  </div>
<% end %>

<%= render "shared/second_footer"%>
